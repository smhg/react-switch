Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react");function i(){return(i=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}var s=t.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},t.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),n=t.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},t.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function o(t){if(7===t.length)return t;for(var i="#",s=1;s<4;s+=1)i+=t[s]+t[s];return i}function h(t,i,s,n,h){return function(t,i,s,n,o){var h=(t-s)/(i-s);if(0===h)return n;if(1===h)return o;for(var e="#",r=1;r<6;r+=2){var a=parseInt(n.substr(r,2),16),l=parseInt(o.substr(r,2),16),u=Math.round((1-h)*a+h*l).toString(16);1===u.length&&(u="0"+u),e+=u}return e}(t,i,s,o(n),o(h))}var e=function(s){function n(t){s.call(this,t),this.t=!1;var i=t.height,n=t.width,o=t.checked;this.i=t.handleDiameter||i-2,this.o=Math.max(n-i,n-(i+this.i)/2),this.h=Math.max(0,(i-this.i)/2),this.state={l:o?this.o:this.h},this.u=0,this.p=0,this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.M=this.M.bind(this),this.m=this.m.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this),this.W=this.W.bind(this)}return s&&(n.__proto__=s),(n.prototype=Object.create(s&&s.prototype)).constructor=n,n.prototype.componentDidMount=function(){this.t=!0},n.prototype.componentDidUpdate=function(t){t.checked!==this.props.checked&&this.setState({l:this.props.checked?this.o:this.h})},n.prototype.componentWillUnmount=function(){this.t=!1},n.prototype.I=function(t){this.j.focus(),this.setState({B:t,H:!0,R:Date.now()})},n.prototype.L=function(t){var i=this.state,s=i.B,n=i.l,o=(this.props.checked?this.o:this.h)+t-s;i.N||t===s||this.setState({N:!0});var h=Math.min(this.o,Math.max(this.h,o));h!==n&&this.setState({l:h})},n.prototype.U=function(t){var i=this.state,s=i.l,n=i.N,o=i.R,h=this.props.checked,e=(this.o+this.h)/2,r=Date.now()-o;!n||r<250?this.A(t):h?s>e?this.setState({l:this.o}):this.A(t):s<e?this.setState({l:this.h}):this.A(t),this.t&&this.setState({N:!1,H:!1}),this.u=Date.now()},n.prototype.v=function(t){t.preventDefault(),"number"==typeof t.button&&0!==t.button||(this.I(t.clientX),window.addEventListener("mousemove",this.g),window.addEventListener("mouseup",this.k))},n.prototype.g=function(t){t.preventDefault(),this.L(t.clientX)},n.prototype.k=function(t){this.U(t),window.removeEventListener("mousemove",this.g),window.removeEventListener("mouseup",this.k)},n.prototype.M=function(t){this.X=null,this.I(t.touches[0].clientX)},n.prototype.m=function(t){this.L(t.touches[0].clientX)},n.prototype.T=function(t){t.preventDefault(),this.U(t)},n.prototype.C=function(t){Date.now()-this.u>50&&(this.A(t),Date.now()-this.p>50&&this.t&&this.setState({H:!1}))},n.prototype.D=function(){this.p=Date.now()},n.prototype.O=function(){this.setState({H:!0})},n.prototype.S=function(){this.setState({H:!1})},n.prototype.W=function(t){this.j=t},n.prototype.$=function(t){t.preventDefault(),this.j.focus(),this.A(t),this.t&&this.setState({H:!1})},n.prototype.A=function(t){var i=this.props;(0,i.onChange)(!i.checked,t,i.id)},n.prototype.render=function(){var s=this.props,n=s.disabled,o=s.className,e=s.offColor,r=s.onColor,a=s.offHandleColor,l=s.onHandleColor,u=s.checkedIcon,c=s.uncheckedIcon,d=s.boxShadow,f=s.activeBoxShadow,p=s.height,b=s.width,v=function(t,i){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&-1===i.indexOf(n)&&(s[n]=t[n]);return s}(s,["disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","boxShadow","activeBoxShadow","height","width","handleDiameter"]),g=this.state,w=g.l,y=g.N,k=g.H,M={position:"relative",display:"inline-block",textAlign:"left",opacity:n?.5:1,direction:"ltr",borderRadius:p/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},m={height:p,width:b,margin:Math.max(0,(this.i-p)/2),position:"relative",background:h(w,this.o,this.h,e,r),borderRadius:p/2,cursor:n?"default":"pointer",WebkitTransition:y?null:"background 0.25s",MozTransition:y?null:"background 0.25s",transition:y?null:"background 0.25s"},x={height:p,width:Math.min(1.5*p,b-(this.i+p)/2+1),position:"relative",opacity:(w-this.h)/(this.o-this.h),pointerEvents:"none",WebkitTransition:y?null:"opacity 0.25s",MozTransition:y?null:"opacity 0.25s",transition:y?null:"opacity 0.25s"},T={height:p,width:Math.min(1.5*p,b-(this.i+p)/2+1),position:"absolute",opacity:1-(w-this.h)/(this.o-this.h),right:0,top:0,pointerEvents:"none",WebkitTransition:y?null:"opacity 0.25s",MozTransition:y?null:"opacity 0.25s",transition:y?null:"opacity 0.25s"},$={height:this.i,width:this.i,background:h(w,this.o,this.h,a,l),display:"inline-block",cursor:n?"default":"pointer",borderRadius:"50%",position:"absolute",transform:"translateX("+w+"px)",top:Math.max(0,(p-this.i)/2),outline:0,boxShadow:k?f:d,border:0,WebkitTransition:y?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:y?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:y?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"};return t.createElement("div",{className:o,style:M},t.createElement("div",{className:"react-switch-bg",style:m,onClick:n?null:this.$,onMouseDown:function(t){return t.preventDefault()}},u&&t.createElement("div",{style:x},u),c&&t.createElement("div",{style:T},c)),t.createElement("div",{className:"react-switch-handle",style:$,onClick:function(t){return t.preventDefault()},onMouseDown:n?null:this.v,onTouchStart:n?null:this.M,onTouchMove:n?null:this.m,onTouchEnd:n?null:this.T,onTouchCancel:n?null:this.S}),t.createElement("input",i({},{type:"checkbox",role:"switch",disabled:n,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},v,{ref:this.W,onFocus:this.O,onBlur:this.S,onKeyUp:this.D,onChange:this.C})))},n}(t.Component);e.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:s,checkedIcon:n,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},exports.default=e;
